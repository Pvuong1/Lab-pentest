# LAB6: LupinOne
## Chuẩn bị
* Kali linux: 192.168.56.102

![image](https://user-images.githubusercontent.com/92532460/224264103-4aa34404-a592-4227-92f8-b7bc6f32c9dc.png)

* Máy victim: Lupinone: 192.56.101

![image](https://user-images.githubusercontent.com/92532460/224264965-f2f015c4-67f4-422a-9458-447121a1bf68.png)
## Quét mạng
* Để bắt đầu, chúng ta phải sử dụng lệnh netdetect để quét mạng để tìm địa chỉ IP của máy nạn nhân.

* Để tiếp tục quá trình này, chúng tôi sẽ khởi chạy Nmap.

```
nmap -sC -sV 192.168.18.36
```
* Trong đó:

  * -sC: chạy các kịch bản script được tích hợp sẵn để quét port và thu thập thông tin hệ thống. Cờ này tương đương với việc sử dụng tất cả các kịch bản script có sẵn.

  * -sV: quét phiên bản dịch vụ của các port mở. Nó sẽ cố gắng xác định phiên bản của các dịch vụ được chạy trên các cổng mạng bằng cách truy vấn các cơ sở dữ liệu phiên bản dịch vụ được lưu trữ trong nmap.

![image](https://user-images.githubusercontent.com/92532460/224265508-f810c15c-e3de-4f20-ba25-bdc75e88efd8.png)
* Chúng tôi có, theo đầu ra nmap:

 * Trên cổng 22 có máy chủ SSH.

 * Một dịch vụ HTTP (Apache Server) chạy trên cổng 80, cũng như một /~myfiles
## Liệt kê
* Chúng ta bắt đầu quy trình liệt kê bằng cách kiểm tra trang HTTP (/~myfiles). Đã phát hiện ra Lỗi 404 có vẻ đáng ngờ.

![image](https://user-images.githubusercontent.com/92532460/224267085-03e1b2b9-a3a6-4391-b06d-92fe58a8e67e.png)

* Chúng tôi đã xem mã nguồn của trang xem và tìm thấy nhận xét “you can do it, keep trying(bạn có thể làm được, hãy tiếp tục cố gắng)

![image](https://user-images.githubusercontent.com/92532460/224267277-ea16c29b-c938-463b-99cb-d56ac97cf129.png)

* Trước tiên clone github ``` seclists ```
```
git clone https://github.com/danielmiessler/SecLists.git 
```
![image](https://user-images.githubusercontent.com/92532460/224269359-2db60c15-c4cb-49cf-b88e-1010a4e0bf70.png)

* Do đó, chúng tôi sử dụng fuzzing để thu được một số thông tin bổ sung từ trường hợp này. Chúng tôi đã sử dụng ffuf và chúng tôi đã nhận được một thư mục ( bí mật )
```
ffuf -c -w /usr/share/seclists/Discovery/Web-Content/common.txt -u 'http://192.168.18.101/~FUZZ'
```
![image](https://user-images.githubusercontent.com/92532460/224270587-a3503db1-c239-4da1-bd13-3a27ede4151a.png)

* Hãy xem kỹ thư mục bí mật đó và phân tích rằng ở đây tác giả đang chia sẻ một số thông tin liên quan đến tệp khóa riêng SSH liên quan đến người dùng “icex64” mà chúng ta cần fuzz.
![image](https://user-images.githubusercontent.com/92532460/224270945-cc99dd78-0c07-48bf-b3ab-e673001daa2a.png)

* Để tìm khóa ssh riêng bí mật đó, chúng tôi lại sử dụng fuzzing với sự trợ giúp của ffuf một lần nữa và tìm thấy tệp văn bản (mysecret.txt).
```
ffuf -c -ic -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -u 'http://192.168.56.101/~secret/.FUZZ' -fc 403 -e .txt,.html
```
![image](https://user-images.githubusercontent.com/92532460/224272031-0f636b0a-a391-430b-9189-c6b43412a0c5.png)
* Chúng ta khám phá mysecret.txt bằng trình duyệt web. Nó dường như là một khóa ssh riêng, nhưng nó được mã hóa. Chúng tôi đã kiểm tra kỹ lưỡng khóa này và phát hiện ra rằng nó được mã hóa ở cơ số 58.
``` 
http://192.168.18.36/~secret/.mysecret.txt 
```
![image](https://user-images.githubusercontent.com/92532460/224272215-538c1aa0-6093-4988-b16d-5510842bdd15.png)
* Chúng tôi đã tra cứu trực tuyến bộ giải mã cơ sở 58 và gặp phải trình duyệt. Đây là bộ giải mã base-58 trực tuyến cơ bản nhất dành cho các nhà phát triển và lập trình viên web.

*Chỉ cần nhập dữ liệu của bạn vào biểu mẫu bên dưới, nhấp vào nút Giải mã Base-58 và bạn sẽ thấy một chuỗi được mã hóa base-58. Chúng tôi đã nhận được khóa ssh của mình sau khi giải mã nó.

*Mình sử dụng ``` https://codebeautify.org/base58-decode ``` để giải mã
![image](https://user-images.githubusercontent.com/92532460/224273887-ff67ae1e-4018-488b-9790-5184637f35a6.png)
## Khai thác



